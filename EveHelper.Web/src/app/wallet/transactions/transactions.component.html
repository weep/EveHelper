<div>
    <h1>Transactions <button class="btn" (click)="refresh()">Refresh</button></h1>

</div>
<div *ngIf="transactions">
    <h5>Revenue: {{stats.revenue / 1000}} B</h5>
    <table *ngIf="stats">
        <thead>
            <tr>
                <th>Duration</th>
                <th>Bought</th>
                <th>Sold</th>
                <th>Diff</th>
                <th>Revenue</th>
                <th>% profit</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1 Day</td>
                <td>{{stats.Daily.buy.sum | number:'.2-2'}} M</td>
                <td>{{stats.Daily.sell.sum | number:'.2-2'}} M</td>
                <td>{{stats.Daily.diff.sum | number:'.2-2'}} M</td>
                <td>{{stats.Daily.revenue | number:'.2-2'}} M</td>
                <td>{{stats.Daily.diff.percent | number:'.2-2'}} %</td>
                <td>{{stats.Daily.count | number:'.2-2'}}</td>
            </tr>
            <tr>
                <td>1 Week</td>
                <td>{{stats.Weekly.buy.sum | number:'.2-2'}} M</td>
                <td>{{stats.Weekly.sell.sum | number:'.2-2'}} M</td>
                <td>{{stats.Weekly.diff.sum | number:'.2-2'}} M</td>
                <td>{{stats.Weekly.revenue | number:'.2-2'}} M</td>
                <td>{{stats.Weekly.diff.percent | number:'.2-2'}} %</td>
                <td>{{stats.Weekly.count | number:'.2-2'}}</td>
            </tr>
            <tr>
                <td>1 Month</td>
                <td>{{stats.Monthly.buy.sum | number:'.2-2'}} M</td>
                <td>{{stats.Monthly.sell.sum | number:'.2-2'}} M</td>
                <td>{{stats.Monthly.diff.sum | number:'.2-2'}} M</td>
                <td>{{stats.Monthly.revenue | number:'.2-2'}} M</td>
                <td>{{stats.Monthly.diff.percent | number:'.2-2'}} %</td>
                <td>{{stats.Monthly.count | number:'.2-2'}}</td>
            </tr>
        </tbody>
    </table>
</div>
<table class="transactions">
    <thead>
        <tr>
            <th>Name</th>
            <th>Item Price</th>
            <th>Quantity</th>
            <th>Total</th>
        </tr>
    </thead>

    <tbody *ngIf="transactions">
        <tr *ngFor="let trans of transactions" [ngClass]="{'buy': trans.is_buy}">
            <td>{{trans.type_id}}</td>
            <td>{{trans.unit_price | number:'.2-2'}}</td>
            <td>{{trans.quantity}}</td>
            <td>{{trans.quantity * trans.unit_price | number:'.2-2'}}</td>
        </tr>
    </tbody>
</table>